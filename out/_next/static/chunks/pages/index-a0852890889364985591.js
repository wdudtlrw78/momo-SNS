(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9466:function(e,t,n){"use strict";n.r(t),n.d(t,{AddPost:function(){return oe},AddPostForm:function(){return ae},Container:function(){return le},ContentContainer:function(){return re},MainContainer:function(){return ie},SiderContainer:function(){return de},default:function(){return ce}});var i=n(35944),r=n(39227),a=n(35366),l=n(67294),o=n(11163),d=n(49226),c=n(51890),s=n(70131),u=n(59451),m=n(52705),h=n(41664),p=n(30381),f=n.n(p),Z=n(19181),g=n(18222),v=n(83692),y=n(97740),x=n(31990),b=n(44545),k=n(32769),C=n(57206),w=n(75491),X=n(49101),B=n(46066),P=n(54549);var I=(0,a.Z)("div",{target:"ec9u9vm5"})({name:"ghj037",styles:"position:fixed;z-index:5000;top:0;left:0;right:0;bottom:0"}),S=(0,a.Z)("header",{target:"ec9u9vm4"})({name:"15omezr",styles:"heigth:44px;background:white;position:relative;padding:0;text-align:center;& h1{margin:0;font-size:17px;color:#333;line-height:44px;}"}),q=(0,a.Z)(P.Z,{target:"ec9u9vm3"})({name:"1jr4zij",styles:"position:absolute;right:0;top:0;padding:15px;line-height:14px;cursor:poiter"}),z=(0,a.Z)("div",{target:"ec9u9vm2"})({name:"thq8y0",styles:"height:calc(100% - 44px);background:#090909"}),T=(0,a.Z)("div",{target:"ec9u9vm1"})({name:"1ll3f66",styles:"padding:32px;text-align:center;& img{margin:0 auto;max-height:750px;}"}),_=(0,a.Z)("div",{target:"ec9u9vm0"})({name:"idgjb3",styles:"text-align:center;&>div{width:75px;height:30px;line-height:30px;border-radius:15px;background:#313131;display:inline-block;text-align:center;color:white;font-size:15px;}"}),E=function(e){var t=e.images,n=e.onClose,r=(0,l.useState)(0),a=r[0],o=r[1];return(0,i.BX)(I,{children:[(0,i.BX)(S,{children:[(0,i.tZ)("h1",{children:" \uc0c1\uc138 \uc774\ubbf8\uc9c0"}),(0,i.tZ)(q,{onClick:n,children:"X"})]}),(0,i.tZ)(z,{children:(0,i.BX)("div",{children:[(0,i.tZ)(B.Z,{dots:!0,initialSlide:0,beforeChange:function(e){return o(e)},infinite:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,children:t.map((function(e){return(0,i.tZ)(T,{children:(0,i.tZ)("img",{src:e.src,alt:e.src})},e.src)}))}),(0,i.tZ)(_,{children:(0,i.BX)("div",{children:[a+1," / ",t.length]})})]})})]})};var F=function(e){var t=e.images,n=(0,l.useState)(!1),r=n[0],a=n[1],o=(0,l.useCallback)((function(){a(!0)})),d=(0,l.useCallback)((function(){a(!1)}),[]);return 1===t.length?(0,i.BX)(i.HY,{children:[(0,i.tZ)("img",{role:"presentation",src:t[0].src,alt:t[0].src,onClick:o}),r&&(0,i.tZ)(E,{images:t,onClose:d})]}):2===t.length?(0,i.BX)(i.HY,{children:[(0,i.tZ)("img",{role:"presentation",style:{width:"50%",display:"inline-block"},src:t[0].src,alt:t[0].src,onClick:o}),(0,i.tZ)("img",{role:"presentation",style:{width:"50%",display:"inline-block"},src:t[1].src,alt:t[1].src,onClick:o}),r&&(0,i.tZ)(E,{images:t,onClose:d})]}):(0,i.BX)(i.HY,{children:[(0,i.tZ)("img",{role:"presentation",style:{width:"50%",display:"inline-block"},src:t[0].src,alt:t[0].src}),(0,i.BX)("div",{role:"presentation",style:{display:"inline-block",width:"50%",textAlign:"center",verticalAlign:"middle",cursor:"pointer"},onClick:o,children:[(0,i.tZ)(X.Z,{}),(0,i.tZ)("br",{}),t.length-1,"\uac1c\uc758 \uc0ac\uc9c4 \ub354\ubcf4\uae30"]}),r&&(0,i.tZ)(E,{images:t,onClose:d})]})},U=n(38901),j=n(25779),L=n(95705),Y=n(95087);var A=function(e){var t=e.post,n=(0,d.I0)(),a=(0,d.v9)((function(e){var t;return null===(t=e.user.me)||void 0===t?void 0:t.id})),o=(0,d.v9)((function(e){return e.post})),c=o.addCommentDone,s=o.addCommentLoading,u=(0,L.Z)(""),m=(0,r.Z)(u,3),h=m[0],p=m[1],f=m[2];(0,l.useEffect)((function(){c&&f("")}),[c]);var Z=(0,l.useCallback)((function(){a?n({type:Y.Ot,data:{content:h,postId:t.id,userId:a}}):alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")}),[h,a]);return(0,i.tZ)(U.Z,{onFinish:Z,children:(0,i.BX)(U.Z.Item,{style:{position:"relative",margin:0},children:[(0,i.tZ)(j.Z.TextArea,{placeholder:"\ub313\uae00\ub2ec\uae30...",value:h,onChange:p,rows:4}),(0,i.tZ)(g.Z,{type:"primary",htmlType:"submit",style:{float:"right"},loading:s,children:"Post"})]})})};var D=function(e){var t=e.postData;return(0,i.tZ)("div",{style:{color:"#292929"},children:t.split(/(#[^\s#]+)/g).map((function(e){return e.match(/(#[^\s#]+)/)?(0,i.tZ)(h.default,{href:"/hashtag/".concat(e.slice(1)),prefetch:!1,children:(0,i.tZ)("a",{style:{color:"#008CFF"},children:e})},e):e}))})},H=n(68226),N=function(e){var t=e.post,n=(0,d.I0)(),r=(0,d.v9)((function(e){return e.user})),a=r.me,o=r.followLoading,c=r.unfollowLoading,s=null===a||void 0===a?void 0:a.Follows.find((function(e){return e.nickname===t.User.nickname})),u=(0,l.useCallback)((function(){n(s?{type:H.Bk,data:t.User.nickname}:{type:H.U_,data:t.User.nickname})}),[s]);return(0,i.tZ)(g.Z,{loading:o||c,onClick:u,children:s?"\uc5b8\ud314\ub85c\uc6b0":"\ud314\ub85c\uc6b0"})};var M=(0,a.Z)("div",{target:"e16krc4z3"})({name:"8dk3vg",styles:"margin-bottom:1rem"}),R=(0,a.Z)("div",{target:"e16krc4z2"})({name:"thtl",styles:"display:flex;justify-content:space-between;align-items:center;background:#fff;border:1px solid #e6e6e6;border-bottom:none;padding:0.5rem 0 0.5rem 1rem"}),O=(0,a.Z)("div",{target:"e16krc4z1"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),G=(0,a.Z)("div",{target:"e16krc4z0"})({name:"wfnjlo",styles:"font-family:Roboto;color:#888"});var V=function(e){var t=e.post,n=(0,d.I0)(),r=(0,d.v9)((function(e){return e.user})).me,a=(0,d.v9)((function(e){return e.post})).removePostLoading,o=(0,l.useState)(!1),s=o[0],u=o[1],m=(0,l.useState)(!1),p=m[0],X=m[1],B=(0,l.useCallback)((function(){u((function(e){return!e}))}),[]),P=(0,l.useCallback)((function(){X((function(e){return!e}))}),[]),I=(0,l.useCallback)((function(){n({type:Y.HU,data:t.id})}),[]),S=(0,d.v9)((function(e){var t;return null===(t=e.user.me)||void 0===t?void 0:t.id}));return(0,i.BX)(M,{children:[(0,i.BX)(R,{children:[(0,i.BX)(O,{children:[(0,i.tZ)(h.default,{href:{pathname:"/user",query:{id:t.User.id}},prefetch:!1,children:(0,i.BX)("a",{children:[(0,i.tZ)(c.C,{children:t.User.nickname[0]}),(0,i.tZ)("span",{style:{margin:"0 0.5rem 0 1rem",verticalAlign:"middle"},children:t.User.nickname})]})}),(0,i.tZ)(G,{children:f()(t.createdAt).format("YYYY.MM.DD")})]}),(0,i.tZ)("div",{children:(0,i.tZ)(Z.Z,{content:(0,i.tZ)(g.Z.Group,{children:S&&t.User.id===S?(0,i.BX)(i.HY,{children:[(0,i.tZ)(g.Z,{children:"\uc218\uc815"}),(0,i.tZ)(g.Z,{type:"danger",loading:a,onClick:I,children:"\uc0ad\uc81c"})]}):(0,i.BX)(i.HY,{children:[S&&(0,i.tZ)(N,{post:t}),(0,i.tZ)(g.Z,{type:"danger",children:"\uc2e0\uace0"})]})}),children:(0,i.tZ)(b.Z,{style:{fontSize:"24px",padding:"0.5rem 1rem",cursor:"pointer",color:"#888"}})},"more")})]}),(0,i.BX)(v.Z,{cover:t.Images[0]&&(0,i.tZ)(F,{images:t.Images,post:t}),actions:[s&&r&&r.id?(0,i.tZ)(k.Z,{style:{fontSize:"18px"},twoToneColor:"#eb2f96",onClick:B,title:"\uc88b\uc544\uc694"},"heart"):(0,i.tZ)(C.Z,{style:{fontSize:"18px"},onClick:B,title:"\uc88b\uc544\uc694"},"heart"),(0,i.tZ)(w.Z,{style:{fontSize:"18px"},onClick:P,title:"\ub313\uae00"},"comment")],children:[(0,i.tZ)(v.Z.Meta,{description:(0,i.tZ)(D,{postData:t.content})}),(0,i.tZ)("div",{style:{padding:"0",color:"#00000073",marginTop:"1rem"},children:"".concat(t.Comments?t.Comments.length:0,"\uac1c\uc758 \ub313\uae00")})]}),p&&(0,i.BX)("div",{children:[(0,i.tZ)(A,{post:t}),(0,i.tZ)(y.ZP,{itemLayout:"horizontal",dataSource:t.Comments||[],renderItem:function(e){return(0,i.tZ)("li",{children:(0,i.tZ)(x.Z,{author:e.User.nickname,avatar:(0,i.tZ)(c.C,{children:e.User.nickname[0]}),content:e.content})})}})]})]})},J=n(99562);var K=(0,a.Z)("div",{target:"e1e1qtq72"})({name:"q5sqw9",styles:"margin:-0.5rem 0 1rem 0;width:100%;@media (max-width: 820px){}"}),Q=(0,a.Z)("div",{target:"e1e1qtq71"})({name:"1vqtba3",styles:"display:flex;background:#fff;border:1px solid #d9d9d9;border-top:none;padding:1rem;justify-content:space-between"}),W=(0,a.Z)("div",{target:"e1e1qtq70"})({name:"13uuyl2",styles:"max-height:30vh;overflow-x:auto;overflow-y:none;white-space:nowrap;background-color:#f5f6f7"});var $=function(e){var t=e.setShowPostForm,n=(0,d.v9)((function(e){return e.post})),a=n.imagePaths,o=n.addPostDone,c=(0,d.I0)(),s=(0,l.useRef)(null),u=(0,L.Z)(""),m=(0,r.Z)(u,3),h=m[0],p=m[1],f=m[2],Z=(0,l.useCallback)((function(){c((0,Y.q2)(h)),t((function(e){return!e}))}),[h,s.current]);(0,l.useEffect)((function(){o&&f("")}),[o]);var v=(0,l.useRef)(null),y=(0,l.useCallback)((function(){v.current.click()}),[v.current]),x=(0,l.useCallback)((function(){t((function(e){return!e}))}),[]);return(0,i.tZ)("div",{children:(0,i.tZ)(K,{children:(0,i.BX)(U.Z,{encType:"multipart/fom-data",onFinish:Z,children:[(0,i.tZ)(j.Z.TextArea,{maxLength:150,placeholder:"\uac8c\uc2dc\uae00\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694.",value:h,onChange:p,style:{height:"200px"}}),(0,i.BX)(Q,{children:[(0,i.tZ)("input",{type:"file",multiple:!0,hidden:!0,ref:v}),(0,i.BX)(g.Z,{onClick:y,children:[(0,i.tZ)(J.Z,{style:{fontSize:"16px"}}),"Photo"]}),(0,i.BX)("div",{children:[(0,i.tZ)(g.Z,{onClick:x,children:"Cancel"}),(0,i.tZ)(g.Z,{style:{marginLeft:"0.5rem"},type:"primary",htmlType:"submit",children:"Post"})]})]}),(0,i.tZ)(W,{children:a.map((function(e){return(0,i.BX)("div",{style:{display:"inline-block"},children:[(0,i.tZ)("img",{src:e,style:{width:"200px"},alt:e}),(0,i.tZ)("div",{children:(0,i.tZ)(g.Z,{children:"\uc81c\uac70"})})]},e)}))})]})})})},ee=n(90371);var te=(0,a.Z)("div",{target:"e3sjx830"})({name:"1mvrwd8",styles:"@media (max-width: 575px){max-width:90%;}"});var ne=function(){var e=(0,d.I0)(),t=(0,d.v9)((function(e){return e.user})).logInLoading,n=(0,l.useCallback)((function(t){e((0,H.tP)(t))}),[]);return(0,i.tZ)("div",{style:{marginBottom:"36px"},children:(0,i.tZ)("div",{style:{fontFamily:"Roboto",display:"flex",justifyContent:"center",padding:"0 16px"},children:(0,i.BX)(U.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:n,style:{width:"364px"},children:[(0,i.tZ)(U.Z.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:(0,i.tZ)(j.Z,{})}),(0,i.tZ)(U.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,i.tZ)(j.Z.Password,{autoComplete:"on"})}),(0,i.tZ)(U.Z.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:(0,i.tZ)(ee.Z,{children:"Remember me"})}),(0,i.tZ)(U.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,i.tZ)(g.Z,{type:"primary",htmlType:"submit",loading:t,children:"Log in"})}),(0,i.BX)(te,{style:{width:"120%",textAlign:"center"},children:["Don't have an account?",(0,i.tZ)(h.default,{href:"/signup",children:(0,i.tZ)("a",{style:{marginLeft:"4px",color:"#008CFF"},children:"Sign Up"})})]})]})})})};var ie=(0,a.Z)("div",{target:"e1sf6dct5"})({name:"685jfy",styles:"width:100%;max-width:935px;display:flex;justify-content:center;align-items:start;@media (max-width: 820px){flex-direction:column-reverse;padding:0 1rem;}"}),re=(0,a.Z)("div",{target:"e1sf6dct4"})({name:"tbicaf",styles:"flex:6;width:100%;margin:0 0 1rem 0"}),ae=(0,a.Z)("div",{target:"e1sf6dct3"})({name:"7lvpnq",styles:"height:56px;display:flex;align-items:center;margin-bottom:1rem;padding-left:0.5rem;background:#fff;border:1px solid #008cff;border-radius:8px;@media (max-width: 820px){margin:1rem 0;}"}),le=(0,a.Z)("div",{target:"e1sf6dct2"})({name:"1ilvkep",styles:"width:100%;padding:0 0.5rem"}),oe=(0,a.Z)("button",{target:"e1sf6dct1"})({name:"354bda",styles:"width:100%;height:36px;background-color:#f0f2f5;border-radius:24px;&:hover{background:#e4e6eb;transition:background 0.3s ease-in;}& p{display:flex;align-items:center;height:36px;color:#65676b;margin-left:0.5rem;}"}),de=(0,a.Z)("div",{target:"e1sf6dct0"})({name:"1c00la8",styles:"width:100%;flex:4;padding-left:1rem;@media (max-width: 820px){padding:0;}"});var ce=function(){var e=(0,d.I0)(),t=(0,l.useState)(!1),n=t[0],a=t[1],h=(0,d.v9)((function(e){return e.user})).me,p=(0,d.v9)((function(e){return e.post})),f=p.mainPosts,Z=p.hasMorePosts,g=p.loadPostsLoading,v=(0,s.YD)(),y=(0,r.Z)(v,2),x=y[0],b=y[1];(0,l.useEffect)((function(){h&&h.id||o.default.push("/")}),[h&&h.id]),(0,l.useEffect)((function(){if(b&&Z&&!g){var t,n=null===(t=f[f.length-1])||void 0===t?void 0:t.id;e({type:Y.aO,lastId:n})}}),[b,Z,g,f]);var k=(0,l.useCallback)((function(){a((function(e){return!e}))}),[]);return(0,i.tZ)(u.Z,{children:(0,i.BX)(ie,{children:[(0,i.BX)(re,{children:[h&&(0,i.BX)(ae,{children:[(0,i.tZ)(c.C,{children:null===h||void 0===h?void 0:h.nickname[0]}),(0,i.tZ)(le,{children:(0,i.tZ)(oe,{onClick:k,children:(0,i.tZ)("p",{children:"".concat((null===h||void 0===h?void 0:h.nickname)||""," \ub2d8, \ubb34\uc2a8 \uc0dd\uac01\uc744 \ud558\uace0 \uacc4\uc2e0\uac00\uc694?")})})})]}),h&&n?(0,i.tZ)($,{setShowPostForm:a}):null,f.map((function(e){return(0,i.tZ)(V,{post:e},e.id)})),(0,i.tZ)("div",{ref:Z&&!g?x:void 0})]}),(0,i.tZ)(de,{children:h?(0,i.tZ)(m.ZP,{}):(0,i.tZ)(ne,{})})]})})}},33685:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9466)}])}},function(e){e.O(0,[785,885,995,797,174,5,19,774,888,179],(function(){return t=33685,e(e.s=t);var t}));var t=e.O();_N_E=t}]);